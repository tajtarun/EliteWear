<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>EliteWear Admin</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #000;
    color: #d4af37;
}

header {
    text-align: center;
    padding: 30px;
    font-size: 32px;
    font-weight: bold;
    border-bottom: 2px solid #d4af37;
    letter-spacing: 2px;
}

.tabs {
    text-align: center;
    margin-top: 20px;
}

.tabs button {
    background: transparent;
    border: 1px solid #d4af37;
    color: #d4af37;
    padding: 10px 25px;
    margin: 0 10px;
    cursor: pointer;
    transition: 0.3s;
}

.tabs button:hover {
    background: #d4af37;
    color: black;
}

.container {
    display: flex;
    justify-content: center;
    gap: 60px;
    margin-top: 60px;
}

.imageBox {
    width: 300px;
    height: 300px;
    border: 2px dashed #d4af37;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 60px;
    transition: 0.3s;
}

.imageBox:hover {
    box-shadow: 0 0 25px #d4af37;
}

.imageBox img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.formArea {
    display: flex;
    flex-direction: column;
    width: 300px;
}

.formArea input {
    margin-bottom: 15px;
    padding: 10px;
    background: black;
    border: 1px solid #d4af37;
    color: #d4af37;
}

.formArea button {
    padding: 12px;
    background: #d4af37;
    color: black;
    font-weight: bold;
    border: none;
    cursor: pointer;
}

.hidden {
    display: none;
}
</style>
</head>

<body>

<header>ELITEWEAR ADMIN PANEL</header>

<div class="tabs">
    <button onclick="showProduct()">Product</button>
    <button onclick="showShirt()">Shirt</button>
</div>

<!-- PRODUCT SECTION -->
<div class="container" id="productSection">

    <div class="imageBox" onclick="document.getElementById('productImage').click()">
        +
        <input type="file" id="productImage" hidden>
    </div>

    <div class="formArea">
        <input type="text" id="productName" placeholder="Product Name">
        <input type="number" id="productPrice" placeholder="Product Price">
        <button onclick="uploadProduct()">Upload Product</button>
    </div>

</div>

<!-- SHIRT SECTION -->
<div class="container hidden" id="shirtSection">

    <div class="imageBox" onclick="document.getElementById('shirtImage').click()">
        +
        <input type="file" id="shirtImage" hidden>
    </div>

    <div class="formArea">
        <input type="text" id="shirtName" placeholder="Shirt Name">
        <input type="number" id="shirtPrice" placeholder="Shirt Price">
        <input type="text" id="shirtSize" placeholder="Shirt Size">
        <input type="text" id="shirtExtra" placeholder="Extra Detail">
        <button onclick="uploadShirt()">Upload Shirt</button>
    </div>

</div>

<script>
const SUPABASE_URL = "YOUR_SUPABASE_URL";
const SUPABASE_KEY = "YOUR_SUPABASE_ANON_KEY";

const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

function showShirt() {
    document.getElementById("productSection").classList.add("hidden");
    document.getElementById("shirtSection").classList.remove("hidden");
}

function showProduct() {
    document.getElementById("shirtSection").classList.add("hidden");
    document.getElementById("productSection").classList.remove("hidden");
}

async function uploadProduct() {
    const file = document.getElementById("productImage").files[0];
    const name = document.getElementById("productName").value;
    const price = document.getElementById("productPrice").value;

    if (!file || !name || !price) {
        alert("Fill all fields");
        return;
    }

    const fileName = Date.now() + "_" + file.name;

    const { error } = await supabase.storage.from("products").upload(fileName, file);
    if (error) {
        alert("Image upload failed");
        return;
    }

    const { data } = supabase.storage.from("products").getPublicUrl(fileName);

    await supabase.from("products").insert([
        { product_name: name, product_price: price, image_url: data.publicUrl }
    ]);

    alert("Product Uploaded Successfully");
}

async function uploadShirt() {
    const file = document.getElementById("shirtImage").files[0];
    const name = document.getElementById("shirtName").value;
    const price = document.getElementById("shirtPrice").value;
    const size = document.getElementById("shirtSize").value;
    const extra = document.getElementById("shirtExtra").value;

    if (!file || !name || !price) {
        alert("Fill all fields");
        return;
    }

    const fileName = Date.now() + "_" + file.name;

    const { error } = await supabase.storage.from("products").upload(fileName, file);
    if (error) {
        alert("Image upload failed");
        return;
    }

    const { data } = supabase.storage.from("products").getPublicUrl(fileName);

    await supabase.from("products").insert([
        { product_name: name, product_price: price, image_url: data.publicUrl }
    ]);

    alert("Shirt Uploaded Successfully");
}
</script>

</body>
</html>
